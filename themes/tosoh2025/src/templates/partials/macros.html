<!--
  templateType: page
  isAvailableForNewContent: false
  label: Macros
-->

{%- macro classes(settings) -%}
  {{-
    [settings.pt_mobile,
    settings.pt_desktop,
    settings.pr_mobile,
    settings.pr_desktop,
    settings.pb_mobile,
    settings.pb_desktop,
    settings.pl_mobile,
    settings.pl_desktop,
    settings.bg_color,
    settings.text_color,
    settings.gap,
    settings.justify,
    settings.align
    ]|join(' ')
  -}}
{%- endmacro -%}

{%- macro render_event_card(event, is_carousel_slide) -%}
  {% set is_carousel_slide = is_carousel_slide ? 'embla__slide min-w-[100%] basis-[100%] md:min-w-[50%] md:basis-[50%] xl:min-w-[30%] xl:basis-[30%] max-w-[32rem]' : 'w-full' %}
  {% set current_time = local_dt|unixtimestamp %}
  <div
    class="border-border {{ is_carousel_slide }} flex flex-col self-stretch overflow-hidden rounded-2xl border bg-white shadow-md transition-all duration-200">
    <div class="bg-prussian-blue p-md relative flex min-h-[12rem] flex-col justify-end overflow-hidden text-white">
      <img
        src="{{ event.image.url }}"
        alt="{{ event.image.alt }}"
        class="absolute top-0 left-0 h-full w-full object-cover transition-all duration-200 group-hover:scale-105" />

      {% if event.date_start > current_time %}
        <div class="absolute -top-2 right-4 items-center justify-center text-black">
          <div class="relative h-[9rem] w-[7.5rem]">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 141 164" fill="none" class="absolute top-0">
              <path d="M0.804688 0H140.195V163.316L70.5001 128.114L0.804688 163.316V0Z" fill="#013a55"></path>
            </svg>

            <div class="pt-md absolute left-0 flex h-full w-full flex-col items-center">
              <div class="font-sans-narrow text-center text-4xl leading-none font-bold text-white">
                {{ event.date_start|datetimeformat("%e") }}
              </div>
              <div class="font-sans-narrow text-xl font-medium text-white">
                {{ event.date_start|datetimeformat("%b, %y") }}
              </div>
            </div>
          </div>
        </div>
      {% endif %}
    </div>
    <div class="p-md my-auto flex flex-col justify-between pb-0">
      <div class="gap-sm flex h-full flex-col justify-center">
        {% if event.date_start > current_time %}
          <p class="text-imperial-red font-semibold">{{ event.time }}</p>
        {% endif %}
        <div class="flex items-center">
          <h5 class="break-word font-sans-narrow font-semibold">{{ event.name }}</h5>
        </div>
        <p class="text-nickel font-semibold">{{ event.location }}</p>
      </div>
    </div>
    <div class="p-md w-full">
      <a
        target="_blank"
        class="button with-arrow bg-imperial-red block w-full! rounded-lg px-4 py-3 text-center font-medium text-white transition-colors duration-200 hover:bg-red-700"
        href="{{ event.hs_path ? '/events/' ~ event.hs_path : event.cta_url }}">
        {{ module.cta_label || 'View Details' }}
      </a>
    </div>
  </div>
{%- endmacro -%}

{%- macro breadcrumbs(breadcrumbs) -%}
  <div class="mt-header-height"></div>

  {%- if breadcrumbs|length > 0 -%}
    <div class="gap-base max-w-max-page p-md md:pl-2xl md:pr-2xl m-auto flex items-center">
      {%- for breadcrumb in breadcrumbs %}

        {% if !loop.last %}
          <a href="{{ breadcrumb.url.href }}" class="text-nickel break-word cursor-pointer text-lg">
            {{ breadcrumb.title }}
          </a>
          <div class="text-nickel max-h-[1.1875rem] max-w-[0.675rem]">
            <svg
              class="max-h-inherit max-w-inherit"
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 11 19"
              fill="none">
              <path d="M1.55 0L0 1.55L7.95 9.5L0 17.45L1.55 19L11 9.5L1.55 0Z" fill="currentColor" />
            </svg>
          </div>
        {% endif %}

        {% if loop.last %}
          <span class="text-default break-word text-lg font-bold">{{ breadcrumb.title }}</span>
        {% endif %}
      {%- endfor -%}
    </div>
  {%- endif -%}
{%- endmacro -%}

{%- macro auth_wrapper() -%}
  <div class="max-w-max-page relative m-auto flex min-h-[100vh] flex-col-reverse lg:flex-row">
    <img
      src="https://145184808.fs1.hubspotusercontent-eu1.net/hubfs/145184808/image%202.png"
      class="top-sm right-sm absolute max-h-[5rem] lg:max-h-[7rem]" />
    <div class="px-md md:px-2xl relative flex w-full flex-col items-center justify-between text-white lg:max-w-[38rem]">
      <img
        src="https://145184808.fs1.hubspotusercontent-eu1.net/hubfs/145184808/761c5869ba5f1c0356006068cdb3adcfe5d37865%20(2).jpg"
        class="absolute top-0 left-0 h-full w-full object-cover" />
      <div class="absolute top-0 left-0 h-full w-full bg-[#013B57E3]"></div>
      <div class="pt-md md:pt-2xl lg:pt-3xl gap-sm relative flex w-full flex-col">
        <p class="text-thin text-lg tracking-widest">CONNECTING SCIENCE WITH CARE</p>
        <h2 class="leading-12 font-semibold">
          At Tosoh, we enable precision and reliability for better patient outcomes.
        </h2>
      </div>
      <img
        src="https://145184808.fs1.hubspotusercontent-eu1.net/hubfs/145184808/close-up-portrait-focused-young-male-doctor%202.png"
        class="relative max-h-[16rem] object-contain lg:max-h-[36rem]" />
    </div>
    <div class="p-md flex w-full items-center">
      <div class="systems-page m-auto w-full">{{ caller() }}</div>
    </div>
  </div>
{%- endmacro -%}
